<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tools ‚Äî Calmiqs</title>

    <!-- Tailwind (same setup as other pages) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#4FA49A",
              accent: "#FFD580",
              tech: "#5A67D8",
            },
            fontFamily: {
              sans: ["Poppins", "sans-serif"],
            },
            animation: {
              gradient: "gradientBG 8s ease infinite",
            },
            keyframes: {
              gradientBG: {
                "0%,100%": { backgroundPosition: "0% 50%" },
                "50%": { backgroundPosition: "100% 50%" },
              },
            },
          },
        },
      };
    </script>

    <link rel="stylesheet" href="/assets/css/style.css?v=12" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="font-sans bg-[#F9FAFB] text-gray-800">
    <!-- HEADER -->
    <div id="navbar-container"></div>

    <!-- üå§Ô∏è Hero Section -->
    <section class="relative text-center py-24 px-6 text-white overflow-hidden">
      <div
        class="absolute inset-0 bg-gradient-to-br from-primary via-accent to-tech animate-gradient bg-[length:400%_400%]"
      ></div>

      <div class="relative z-10">
        <h2 class="text-4xl sm:text-5xl font-bold mb-6 drop-shadow-lg">
          Mind Tools for Calm and Focus
        </h2>
        <p class="max-w-2xl mx-auto mb-8 text-lg">
          Explore interactive wellness experiences designed to help you breathe, balance, and
          reconnect.
        </p>
      </div>
    </section>

    <!-- ü´Å CalmBreath Tool -->
    <section class="max-w-5xl mx-auto py-20 px-6 text-center">
      <div class="bg-white border border-gray-100 shadow-md rounded-2xl p-10 md:p-16">
        <h3 class="text-3xl font-bold text-primary mb-6">üå¨Ô∏è CalmBreath</h3>
        <p class="text-gray-600 mb-10 max-w-2xl mx-auto">
          Follow the rhythm. Inhale... hold... exhale. Let your mind reset through calm, guided
          breathing.
        </p>

        <!-- Breathing Circle -->
        <div class="relative flex justify-center items-center mb-8">
          <div
            id="breath-circle"
            class="w-40 h-40 rounded-full bg-primary/70 shadow-[0_0_30px_rgba(79,164,154,0.5)] transition-all duration-300 ease-in-out"
          ></div>
          <div id="breath-text" class="absolute text-2xl font-semibold text-gray-700">Ready</div>
        </div>

        <button
          id="start-btn"
          class="bg-primary text-white px-8 py-3 rounded-xl font-medium hover:bg-accent transition shadow-md hover:shadow-lg"
        >
          Begin CalmBreath
        </button>
      </div>
    </section>

    <!-- FOOTER -->
    <div id="footer-container"></div>

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();

      // üå¨Ô∏è CalmBreath Animation Logic
      const circle = document.getElementById("breath-circle");
      const text = document.getElementById("breath-text");
      const btn = document.getElementById("start-btn");

      let running = false;

      const breatheCycle = [
        { phase: "Inhale", scale: 1.6, duration: 4000 },
        { phase: "Hold", scale: 1.6, duration: 2000 },
        { phase: "Exhale", scale: 1.0, duration: 4000 },
        { phase: "Hold", scale: 1.0, duration: 2000 },
      ];

      async function startBreathing() {
        if (running) return;
        running = true;
        btn.disabled = true;
        btn.textContent = "Relaxing...";

        while (running) {
          for (const step of breatheCycle) {
            text.textContent = step.phase;
            circle.style.transform = `scale(${step.scale})`;
            await new Promise((r) => setTimeout(r, step.duration));
          }
        }
      }

      btn.addEventListener("click", startBreathing);
    </script>
    <script>
      async function loadFragment(url, selector) {
        try {
          const response = await fetch(url);
          if (!response.ok) throw new Error("Failed to load " + url);
          const html = await response.text();
          document.querySelector(selector).innerHTML = html;
        } catch (err) {
          console.error(err);
        }
      }

      loadFragment("/assets/components/header.html", "#navbar-container");
      loadFragment("/assets/components/footer.html", "#footer-container");
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calmiqs â€“ Wellness & Eco Balance</title>

    <!-- Tailwind CDN (dev only) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind custom config -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#4FA49A",
              accent: "#FFD580",
              tech: "#5A67D8",
            },
            fontFamily: {
              sans: ["Poppins", "sans-serif"],
            },
          },
        },
      };
    </script>

    <!-- IMPORTANT: use absolute root path to avoid duplicated relative paths -->
    <link rel="stylesheet" href="/assets/css/style.css?v=12" />
  </head>
  <style>
    @keyframes gradientMove {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }
    .animate-gradient {
      animation: gradientMove 12s ease infinite;
    }
  </style>

  <body class="bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100">
    <!-- Header Placeholder -->
    <div id="navbar-container"></div>

    <script>
      // Load header.html dynamically
      fetch("/header.html?v=2")
        .then((res) => res.text())
        .then((html) => {
          document.getElementById("navbar-container").innerHTML = html;

          // Re-run CMS button logic after header is loaded
          const cmsButtons = document.querySelectorAll(".cmsBtn");
          const isAdmin =
            sessionStorage.getItem("calmiqsAuth") === "true" ||
            sessionStorage.getItem("isAdmin") === "true" ||
            localStorage.getItem("calmiqsAuth") === "true" ||
            localStorage.getItem("isAdmin") === "true";

          if (isAdmin) {
            cmsButtons.forEach((btn) => btn.classList.remove("hidden"));
          }

          // Attach mobile menu toggle (since itâ€™s in header.html)
          const toggle = document.getElementById("mobile-menu-toggle");
          const menu = document.getElementById("mobile-menu");
          if (toggle && menu) {
            toggle.addEventListener("click", () => menu.classList.toggle("hidden"));
          }
        })
        .catch((err) => console.error("Failed to load header:", err));
    </script>

    <!-- ðŸŒ¤ï¸ Hero Section -->
    <section class="relative text-center py-24 px-6 text-white overflow-hidden">
      <!-- Moving gradient background -->
      <div
        class="absolute inset-0 bg-gradient-to-br from-primary via-accent to-tech animate-gradient bg-[length:400%_400%]"
      ></div>

      <!-- Text content -->
      <div class="relative z-10">
        <h2 class="text-4xl sm:text-5xl font-bold mb-6 drop-shadow-lg">
          Calm Your Mind & Grow Your Balance
        </h2>
        <p class="max-w-2xl mx-auto mb-8 text-lg">
          Explore AI-powered wellness tools and eco-friendly insights designed to help you breathe
          better, think clearer, and live greener.
        </p>
        <a
          href="tools.html"
          class="bg-white text-primary px-6 py-3 rounded-xl font-medium hover:bg-accent hover:text-white transition shadow-md hover:shadow-lg"
        >
          ðŸŒ¿ Try CalmBreath Now
        </a>
      </div>
    </section>

    <!-- ðŸŒ± Features Section -->
    <section
      class="max-w-6xl mx-auto py-20 px-6 grid md:grid-cols-3 gap-10 text-center perspective"
    >
      <div
        class="card relative p-6 bg-white rounded-2xl shadow-lg transform transition-transform duration-500 hover:rotate-x-6 hover:rotate-y-6 hover:scale-105 hover:shadow-2xl"
      >
        <div class="card-orb orb-blue"></div>
        <div class="relative z-10"></div>
        <h3 class="text-xl font-semibold text-primary mb-3">Mind Tools</h3>
        <p>Interactive AI games and breathing apps for daily stress relief and focus training.</p>
        <div class="card-light"></div>
      </div>
      <div
        class="card relative p-6 bg-white rounded-2xl shadow-lg transform transition-transform duration-500 hover:rotate-x-6 hover:rotate-y-6 hover:scale-105 hover:shadow-2xl"
      >
        <div class="card-orb orb-green"></div>
        <div class="relative z-10"></div>
        <h3 class="text-xl font-semibold text-primary mb-3">Green Living</h3>

        <p>Practical eco tips and sustainable habits for a healthier planet and you.</p>
        <div class="card-light"></div>
      </div>
      <div
        class="card relative p-6 bg-white rounded-2xl shadow-lg transform transition-transform duration-500 hover:rotate-x-6 hover:rotate-y-6 hover:scale-105 hover:shadow-2xl"
      >
        <div class="card-orb orb-purple"></div>
        <div class="relative z-10"></div>
        <h3 class="text-xl font-semibold text-primary mb-3">AI Insights</h3>
        <p>Smart recommendations and personalized guides for better mental wellness.</p>
        <div class="card-light"></div>
      </div>
    </section>

    <!-- Footer Placeholder -->
    <div id="footer-container"></div>

    <!-- JS Loader -->
    <script src="/assets/js/main.js"></script>
    <script>
      loadFragment("/assets/components/header.html", "#navbar-container");
      loadFragment("/assets/components/footer.html", "#footer-container");
    </script>
    <script>
      // Show CMS button if admin is logged in
      if (
        localStorage.getItem("isAdmin") === "true" ||
        sessionStorage.getItem("calmiqsAuth") === "true"
      ) {
        const cmsDesktop = document.getElementById("cmsBtnDesktop");
        const cmsMobile = document.getElementById("cmsBtnMobile");
        if (cmsDesktop) cmsDesktop.classList.remove("hidden");
        if (cmsMobile) cmsMobile.classList.remove("hidden");
      }
    </script>
  </body>
</html>
